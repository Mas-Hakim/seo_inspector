<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SEO Inspector Report — {{ url }}</title>
  <link rel="stylesheet" href="assets/styles.css"/>
</head>
<body>
<header class="top">
  <h1>SEO Inspector — Report</h1>
  <p class="muted">Task: {{ task_id }} — URL: <a href="{{ url }}">{{ url }}</a></p>
</header>

<section class="panel">
  <h2>Overview</h2>
  <dl class="grid">
    <dt>Final URL</dt><dd>{{ fetched.final_url or fetched.url }}</dd>
    <dt>HTTP Status</dt><dd>{{ fetched.status_code }}</dd>
    <dt>Response time</dt><dd>{{ '%.2fs' % fetched.elapsed if fetched.elapsed else 'N/A' }}</dd>
    <dt>Content size</dt><dd>{{ fetched.content_bytes_len }} bytes</dd>
  </dl>
</section>

<section class="panel">
  <h2>SEO Metadata</h2>
  <dl>
    <dt>Title</dt><dd>{{ html.title or '—' }} ({{ seo.title_len }} chars)</dd>
    <dt>Meta description</dt><dd>{{ html.meta.description or '—' }}</dd>
    <dt>Canonical</dt><dd>{{ html.canonical or '—' }}</dd>
    <dt>H1 count</dt><dd>{{ seo.num_h1 }}</dd>
  </dl>
</section>

<section class="panel">
  <h2>Broken Links</h2>
  {% if broken %}
    <ul class="links">
    {% for b in broken[:30] %}
      <li class="{{ 'ok' if b.ok else 'bad' }}">
        <code>{{ b.url }}</code> — <strong>{{ b.status if b.status else 'ERR' }}</strong>
      </li>
    {% endfor %}
    </ul>
    {% if broken|length > 30 %}<p class="muted">Showing first 30 links.</p>{% endif %}
  {% else %}
    <p>No links found on the page.</p>
  {% endif %}
</section>

<section class="panel score">
  <h2>Quality Score</h2>
  <div class="meter">
    <div class="bar" style="width: {{ seo.quality_score }}%"></div>
  </div>
  <p>Score: <strong>{{ seo.quality_score }}</strong>/100</p>
</section>

<footer class="foot">
  <p class="muted">Generated by seo-inspector-mvp — static report, no JavaScript.</p>
</footer>
</body>
</html>
